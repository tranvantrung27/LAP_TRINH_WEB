@model LAPTRINHWEB.Models.Student

@{
    ViewData["Title"] = "Kết quả đăng ký";
    int sameSpecialtyCount = ViewBag.SameSpecialtyCount;

    string chuyenNganh = "";
    string icon = "";
    string colorClass = "";

    switch (Model.ChuyenNganh)
    {
        case "CNPM":
            chuyenNganh = "Công nghệ phần mềm";
            icon = "💻";
            colorClass = "software-bg";
            break;
        case "HTTT":
            chuyenNganh = "Hệ thống thông tin";
            icon = "📊";
            colorClass = "info-systems-bg";
            break;
        case "ANM":
            chuyenNganh = "An ninh mạng";
            icon = "🔒";
            colorClass = "security-bg";
            break;
        case "TTNT":
            chuyenNganh = "Trí tuệ nhân tạo";
            icon = "🤖";
            colorClass = "ai-bg";
            break;
        case "MMT":
            chuyenNganh = "Mạng máy tính";
            icon = "🌐";
            colorClass = "network-bg";
            break;
    }
}

<style>
    .result-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 30px;
    }

    .success-card {
        background: white;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        animation: slideIn 0.5s ease-out;
    }

    @@keyframes slideIn {
        from {
            transform: translateY(30px);
            opacity: 0;
        }

        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    .card-header {
        padding: 40px;
        text-align: center;
        color: white;
    }

    .software-bg {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .info-systems-bg {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }

    .security-bg {
        background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
    }

    .ai-bg {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    }

    .network-bg {
        background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
    }

    .major-icon {
        font-size: 4rem;
        margin-bottom: 20px;
    }

    .success-title {
        font-size: 2rem;
        font-weight: bold;
        margin-bottom: 10px;
    }

    .card-body {
        padding: 40px;
        text-align: center;
    }

    .student-info {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
    }

    .info-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 15px 0;
        font-size: 1.1rem;
    }

    .info-label {
        font-weight: 600;
        color: #6c757d;
    }

    .info-value {
        font-weight: 700;
        color: #2c3e50;
    }

    .count-badge {
        display: inline-block;
        background: #28a745;
        color: white;
        padding: 10px 25px;
        border-radius: 50px;
        font-size: 1.3rem;
        font-weight: bold;
        margin: 20px 0;
        animation: bounce 1s infinite;
    }

    @@keyframes bounce {
        0%, 100% {
            transform: translateY(0);
        }

        50% {
            transform: translateY(-10px);
        }
    }

    .action-buttons {
        margin-top: 30px;
    }

    .btn-back {
        background: linear-gradient(to right, #3498db, #2980b9);
        color: white;
        border: none;
        border-radius: 50px;
        padding: 12px 40px;
        font-size: 18px;
        font-weight: bold;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
    }

        .btn-back:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(52, 152, 219, 0.4);
            color: white;
            text-decoration: none;
        }

    .confetti {
        position: absolute;
        width: 10px;
        height: 10px;
        background: #feca57;
        animation: confetti-fall 3s linear infinite;
    }

    @@keyframes confetti-fall {
        to {
            transform: translateY(100vh) rotate(360deg);
        }
    }
</style>

<div class="container mt-5">
    <div class="result-container">
        <div class="success-card">
            <div class="card-header @colorClass">
                <div class="major-icon">@icon</div>
                <h2 class="success-title">Đăng ký thành công!</h2>
                <p>Chào mừng bạn đến với chuyên ngành @chuyenNganh</p>
            </div>

            <div class="card-body">
                <div class="student-info">
                    <div class="info-row">
                        <span class="info-label">MSSV:</span>
                        <span class="info-value">@Model.MSSV</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Họ và tên:</span>
                        <span class="info-value">@Model.HoTen</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Điểm TB:</span>
                        <span class="info-value">@Model.DiemTB</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Chuyên ngành:</span>
                        <span class="info-value">@chuyenNganh</span>
                    </div>
                </div>

                <p class="mt-4" style="font-size: 1.2rem;">
                    <i class="fas fa-users"></i> Số sinh viên cùng chuyên ngành:
                </p>
                <div class="count-badge">
                    @sameSpecialtyCount sinh viên
                </div>

                <div class="action-buttons">
                    <a href="@Url.Action("Index")" class="btn-back">
                        <i class="fas fa-arrow-left"></i> Quay lại đăng ký
                    </a>
                    <a href="@Url.Action("List", new { chuyenNganh = Model.ChuyenNganh })" class="btn-back" style="background: linear-gradient(to right, #10b981, #059669);">
                        <i class="fas fa-list"></i> Xem danh sách
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Confetti animation -->
<script>
    // Create confetti effect
    function createConfetti() {
        const colors = ['#feca57', '#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4'];
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.animationDelay = Math.random() * 3 + 's';
        confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
        document.body.appendChild(confetti);

        setTimeout(() => {
            confetti.remove();
        }, 3000);
    }

    // Generate multiple confetti
    for (let i = 0; i < 20; i++) {
        setTimeout(createConfetti, i * 200);
    }
</script>

@section Scripts {
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
}